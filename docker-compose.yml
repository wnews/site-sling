wnews:
  build: .
  links:
    - sling
  command: build deployBundle
  volumes_from:
    - gradle-cache
sling:
  image: apachesling/sling
  mem_limit: 512m
  ports:
    - 8081:8080
  environment:
    - "JAVA_OPTS=-Dosgi.http.endpoint=http://0.0.0.0:8080/"
  volumes:
    - "./sling.properties:/opt/sling/sling.properties"
  volumes_from:
    - sling-data
sling-data:
  image: tianon/true
  volumes:
    - /opt/sling/sling
gradle-cache:
  image: cogniteev/echo:latest
  volumes:
    - /root/.gradle
